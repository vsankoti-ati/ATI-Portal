{"ast":null,"code":"import _slicedToArray from\"/home/shankotai/ATI-IntranetPortal/react-goapp-sample/ATI-Portal/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useOutletContext}from\"react-router-dom\";//var result = \"test message\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FileUploadPage=function FileUploadPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFilePicked=_useState4[0],setIsFilePicked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSelected=_useState6[0],setIsSelected=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];//const [ setAlertMessage ] = useOutletContext();\t\n//const { setAlertClassName } = useOutletContext();\nfunction changeHandler(event){setSelectedFile(event.target.files[0]);setIsSelected(true);}var handleSubmission=function handleSubmission(){var formData=new FormData();formData.append('file_input',selectedFile);var headers=new Headers();var requestOptions={method:\"POST\",headers:headers,body:formData};fetch('http://localhost:8087/upload',requestOptions).then(function(response){return response.json();}).then(function(result){console.log('Success:',result);setResult(\"File uploaded successfully\");//setAlertClassName(\"d-none\")\n//setAlertMessage(\"File Uploaded successfully\")\n}).catch(function(error){console.error('Error:',error);setResult(\"Error Uploading File\");//setAlertClassName(\"alert-danger\")\n//setAlertMessage(error)\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select a File:\"}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:changeHandler}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmission,children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{children:result})]})]});};export default FileUploadPage;","map":{"version":3,"names":["React","useState","useOutletContext","jsx","_jsx","jsxs","_jsxs","FileUploadPage","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","_useState3","_useState4","isFilePicked","setIsFilePicked","_useState5","_useState6","isSelected","setIsSelected","_useState7","_useState8","result","setResult","changeHandler","event","target","files","handleSubmission","formData","FormData","append","headers","Headers","requestOptions","method","body","fetch","then","response","json","console","log","catch","error","className","children","type","name","onChange","onClick"],"sources":["/home/shankotai/ATI-IntranetPortal/react-goapp-sample/ATI-Portal/ui/src/components/FileUploadPage.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { useOutletContext } from \"react-router-dom\";\n//var result = \"test message\";\nconst FileUploadPage = () => {\n    const [selectedFile, setSelectedFile] = useState(\"\");\n\tconst [isFilePicked, setIsFilePicked] = useState(false);\n\tconst [isSelected, setIsSelected] = useState(false);\n\tconst [result, setResult] = useState(\"\")\n\t//const [ setAlertMessage ] = useOutletContext();\t\n\t//const { setAlertClassName } = useOutletContext();\n\n\tfunction changeHandler(event) {\n\t\tsetSelectedFile(event.target.files[0]);\n\t\tsetIsSelected(true);\n\t}\n\n\tconst handleSubmission = () => {\n\t\tconst formData = new FormData();\n\t\tformData.append('file_input', selectedFile);\n\n\t\tconst headers = new Headers();\n        const requestOptions = {\n            method: \"POST\",\n            headers: headers,\n\t\t\tbody: formData\n        }\n\n\t\tfetch(\n\t\t\t'http://localhost:8087/upload', requestOptions\t\t\t\n\t\t)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((result) => {\n\t\t\t\tconsole.log('Success:', result);\n\t\t\t\tsetResult(\"File uploaded successfully\")\n\t\t\t\t//setAlertClassName(\"d-none\")\n                //setAlertMessage(\"File Uploaded successfully\")\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t\tsetResult(\"Error Uploading File\")\n\t\t\t\t//setAlertClassName(\"alert-danger\")\n                //setAlertMessage(error)\n\t\t\t});\n\t\t};\n\n\treturn(\n   \t<div className='container'>\n\t\t\t<label>Select a File:</label>&nbsp;&nbsp;&nbsp;\n\t\t\t<input type=\"file\" name=\"file\" onChange={changeHandler} />\t\t\n\t\t\t<br /><br />\t\n\t\t\t<div>\n\t\t\t\t<button onClick={handleSubmission}>Submit</button>\n\t\t\t\t<p>{result}</p>\n\t\t\t</div>\n\t</div>\n\t)\n}\n\nexport default FileUploadPage;"],"mappings":"yJAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,gBAAgB,KAAQ,kBAAkB,CACnD;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACA,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,IAAAC,SAAA,CAAwCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACvC,IAAAI,UAAA,CAAwCZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhDE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAoChB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA5CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAA4BpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB;AACA;AAEA,QAAS,CAAAG,aAAaA,CAACC,KAAK,CAAE,CAC7Bd,eAAe,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACtCR,aAAa,CAAC,IAAI,CAAC,CACpB,CAEA,GAAM,CAAAS,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC9B,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,EAAE,CAC/BD,QAAQ,CAACE,MAAM,CAAC,YAAY,CAAErB,YAAY,CAAC,CAE3C,GAAM,CAAAsB,OAAO,CAAG,GAAI,CAAAC,OAAO,EAAE,CACvB,GAAM,CAAAC,cAAc,CAAG,CACnBC,MAAM,CAAE,MAAM,CACdH,OAAO,CAAEA,OAAO,CACzBI,IAAI,CAAEP,QACD,CAAC,CAEPQ,KAAK,CACJ,8BAA8B,CAAEH,cAAc,CAC9C,CACCI,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAAChB,MAAM,CAAK,CACjBmB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEpB,MAAM,CAAC,CAC/BC,SAAS,CAAC,4BAA4B,CAAC,CACvC;AACY;AACb,CAAC,CAAC,CACDoB,KAAK,CAAC,SAACC,KAAK,CAAK,CACjBH,OAAO,CAACG,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BrB,SAAS,CAAC,sBAAsB,CAAC,CACjC;AACY;AACb,CAAC,CAAC,CACH,CAAC,CAEF,mBACGlB,KAAA,QAAKwC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC3B3C,IAAA,UAAA2C,QAAA,CAAO,gBAAc,EAAQ,eAC7B,cAAA3C,IAAA,UAAO4C,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEzB,aAAc,EAAG,cAC1DrB,IAAA,SAAM,cAAAA,IAAA,SAAM,cACZE,KAAA,QAAAyC,QAAA,eACC3C,IAAA,WAAQ+C,OAAO,CAAEtB,gBAAiB,CAAAkB,QAAA,CAAC,QAAM,EAAS,cAClD3C,IAAA,MAAA2C,QAAA,CAAIxB,MAAM,EAAK,GACV,GACF,CAEP,CAAC,CAED,cAAe,CAAAhB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}